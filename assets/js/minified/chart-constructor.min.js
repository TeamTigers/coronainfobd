function switchToModernCharts(){$("#modernCharts").fadeIn(),$("#traditionalCharts").fadeOut()}function switchToTraditionalCharts(){$("#modernCharts").fadeOut(),$("#traditionalCharts").fadeIn()}function differenceFromMarch8(){const t=new Date,e=new Date(2020,2,8);return Math.round(Math.abs((t-e)/864e5))}function filterDate(t){let e=t.concat("20").split("/").reverse(),a=e[2];return e[2]=e[1],e[1]=a,e=e.join("-")}function heatMapGenerator(t,e,a,o,n,i,l,r,d,f){return{type:"calendar",options:{year:{text:"2020",visible:!1},startMonth:e,endMonth:a,palette:o,month:{item:{fontFamily:"Google Sans",fontColor:"black",fontSize:14}},weekday:{values:["","M","","W","","F",""],item:{fontColor:"gray",fontSize:9}},values:t},labels:[{borderColor:i,borderRadius:10,borderWidth:2,x:"8%",y:"60%",width:"40%",height:"30%"},{text:n,fontFamily:"Google Sans",fontSize:13,fontColor:"#212121",textAlign:"center",x:"10%",y:"65%",width:"36%"},{text:"%plot-value",defaultValue:"00",fontColor:i,fontFamily:"Google Sans",fontSize:35,textAlign:"center",x:"10%",y:"68%",width:"36%"},{borderColor:d,borderRadius:10,borderWidth:2,x:"52%",y:"60%",width:"40%",height:"30%"},{text:l,fontFamily:"Google Sans",fontSize:13,fontColor:"#212121",textAlign:"center",x:"54%",y:"65%",width:"36%"},{text:r,fontColor:d,fontFamily:"Google Sans",fontSize:35,textAlign:"center",x:"54%",y:"68%",width:"36%"},{text:f,fontFamily:"Google Sans",fontSize:13,fontColor:"#212121",padding:2,textAlign:"center",x:"54%",y:"80%",width:"36%"}],tooltip:{text:"%data-day",defaultValue:"Hover mouse/Tap",backgroundColor:"none",borderColor:"none",fontFamily:"Google Sans",fontSize:13,fontColor:"#212121",padding:2,align:"center",sticky:!0,timeout:3e4,x:"10%",y:"80%",width:"36%"},plotarea:{marginTop:"15%",marginBottom:"55%",marginLeft:"8%",marginRight:"8%"}}}function singleLineChartGenerator(t,e,a){return{globals:{"font-family":"Google Sans"},graphset:[{type:"area","background-color":"#fff",utc:!0,plotarea:{"margin-top":"10%","margin-right":"dynamic","margin-bottom":"dynamic","margin-left":"dynamic","adjust-layout":!0},labels:[{text:`${a}: %plot-0-value`,"default-value":"0",color:"#fc8d62",x:"30%",y:50,width:200,"text-align":"left",bold:0,"font-size":"14px","font-weight":"bold"}],"scale-x":{label:{text:"Date Range","font-size":"14px","font-weight":"normal","offset-x":"10%","font-angle":360},item:{"text-align":"center","font-color":"#05636c"},zooming:1,"max-labels":12,labels:t,"max-items":12,"items-overlap":!0,guide:{"line-width":"0px"},tick:{"line-width":"2px"}},"crosshair-x":{"line-color":"#fff","line-width":1,"plot-label":{visible:!1}},"scale-y":{values:`0:${Math.max(...e)}:${Math.min(...e)+2}`,item:{"font-color":"#05636c","font-weight":"normal"},label:{text:"Metrics","font-size":"14px"},guide:{"line-width":"0px",alpha:.2,"line-style":"dashed"}},plot:{"line-width":2,marker:{size:1,visible:!1},tooltip:{"font-family":"Google Sans","font-size":"15px",text:`${a} %v on %data-days`,"text-align":"left","border-radius":5,padding:10}},series:[{values:e,"data-days":t,"line-color":"#fc8d62",aspect:"spline","background-color":"#fc8d62","alpha-area":".3","font-family":"Google Sans","font-size":"14px",text:"found"}]}]}}function multiLineChartGenerator(t,e,a){return{globals:{"font-family":"Google Sans"},graphset:[{type:"area","background-color":"#fff",utc:!0,plotarea:{"margin-top":"10%","margin-right":"dynamic","margin-bottom":"dynamic","margin-left":"dynamic","adjust-layout":!0},labels:[{text:"Death: %plot-1-value","default-value":"0",color:"#ff5252",x:"30%",y:50,width:200,"text-align":"left",bold:0,"font-size":"14px","font-weight":"bold"},{text:"Recovered: %plot-0-value","default-value":"0",color:"#2979ff",x:"30%",y:70,width:200,"text-align":"left",bold:0,"font-size":"14px","font-weight":"bold"}],"scale-x":{label:{text:"Date Range","font-size":"14px","font-weight":"normal","offset-x":"10%","font-angle":360},item:{"text-align":"center","font-color":"#05636c"},zooming:1,"max-labels":12,labels:t,"max-items":12,"items-overlap":!0,guide:{"line-width":"0px"},tick:{"line-width":"2px"}},"crosshair-x":{"line-color":"#fff","line-width":1,"plot-label":{visible:!1}},"scale-y":{values:`0:${Math.max(Math.max(...e),Math.max(...a))}:${Math.min(...e)+1}`,item:{"font-color":"#05636c","font-weight":"normal"},label:{text:"Metrics","font-size":"14px"},guide:{"line-width":"0px",alpha:.2,"line-style":"dashed"}},plot:{"line-width":2,marker:{size:1,visible:!1},tooltip:{"font-family":"Google Sans","font-size":"15px",text:"Found %v on %data-days","text-align":"left","border-radius":5,padding:10}},series:[{values:e,"data-days":t,"line-color":"#2979ff",aspect:"spline","background-color":"#2979ff","alpha-area":".3","font-family":"Google Sans","font-size":"14px",text:"recovered"},{values:a,"data-days":t,"line-color":"#ff5252",aspect:"spline","background-color":"#ff5252","alpha-area":".3","font-family":"Google Sans","font-size":"14px",text:"dead"}]}]}}$(function(){let t=`lastdays=${differenceFromMarch8()}`;$.get("https://corona.lmao.ninja/v2/historical/bangladesh?".concat(t),function(){}).done(function(t){let e=[],a=[],o=t.timeline,n=Object.keys(o.cases),i=Object.values(o.cases),l=Object.values(o.recovered);n.forEach(function(t,o){let n=i[o]-i[o-1]||0;e.push([filterDate(t),n]);let r=l[o]-l[o-1]||0;a.push([filterDate(t),r])});let r=function(t){return t.indexOf(Math.max.apply(null,t))},d=e.map(function(t){return t[1]}),f=a.map(function(t){return t[1]}),s=Object.values(o.deaths),c=s.map(function(t,e){return s[e]-s[e-1]||0}),h=n.map(function(t){const e=new Date(t.concat("20").split("/")).toDateString().split(" ");return e[1].concat("<br>").concat(e[2])});zingchart.render({id:"affectedSeries",data:singleLineChartGenerator(h,d,"Newly affected"),height:300,width:"100%"}),zingchart.render({id:"rdSeries",data:multiLineChartGenerator(h,f,c),height:300,width:"100%"}),zingchart.loadModules("calendar",function(){zingchart.render({id:"affectedHeatMap",data:heatMapGenerator(e,3,5,["none","#f32160"],"Newly affected","#f32160","Max Affected",d[r(d)],"#f32160",filterDate(n[r(d)])),height:400,width:"100%"}),zingchart.render({id:"recoveredHeatMap",data:heatMapGenerator(a,3,5,["none","#2bbd7e"],"Newly recovered","#2bbd7e","Max Recovered",f[r(f)],"#2bbd7e",filterDate(n[r(f)])),height:400,width:"100%"})})}),$("input").change(function(){$(this).is(":checked")?switchToModernCharts():switchToTraditionalCharts()}),switchToModernCharts()});